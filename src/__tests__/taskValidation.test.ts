/**\n * Task validation unit tests\n * Tests the validation logic used in CreateTaskForm\n */\n\ninterface ValidationResult {\n  isValid: boolean;\n  errors: Record<string, string>;\n}\n\n// Extract validation logic for testing\nconst validateTaskData = (data: {\n  title: string;\n  descriptionMd: string;\n  priorityId: string;\n  dueAt: string;\n  estimateMinutes: number;\n}): ValidationResult => {\n  const errors: Record<string, string> = {};\n  \n  // Title validation\n  if (!data.title.trim()) {\n    errors.title = 'Title is required';\n  }\n  \n  // Priority validation\n  if (!['1', '2', '3', '4', '5'].includes(data.priorityId)) {\n    errors.priorityId = 'Invalid priority selected';\n  }\n  \n  // Due date validation\n  if (!data.dueAt) {\n    errors.dueAt = 'Due date is required';\n  } else {\n    const dueDate = new Date(data.dueAt);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    if (isNaN(dueDate.getTime())) {\n      errors.dueAt = 'Invalid date format';\n    } else if (dueDate < today) {\n      errors.dueAt = 'Due date must be today or in the future';\n    }\n  }\n  \n  // Estimate validation\n  if (data.estimateMinutes < 0) {\n    errors.estimateMinutes = 'Estimate must be 0 or greater';\n  }\n  \n  // Description validation\n  if (data.descriptionMd.length > 10000) {\n    errors.descriptionMd = 'Description must be less than 10,000 characters';\n  }\n  \n  return {\n    isValid: Object.keys(errors).length === 0,\n    errors,\n  };\n};\n\ndescribe('Task Validation', () => {\n  const validTaskData = {\n    title: 'Valid Task Title',\n    descriptionMd: 'Valid description',\n    priorityId: '2',\n    dueAt: new Date(Date.now() + 86400000).toISOString(), // Tomorrow\n    estimateMinutes: 60,\n  };\n\n  describe('Title Validation', () => {\n    it('should pass with valid title', () => {\n      const result = validateTaskData(validTaskData);\n      expect(result.errors.title).toBeUndefined();\n    });\n\n    it('should fail with empty title', () => {\n      const result = validateTaskData({ ...validTaskData, title: '' });\n      expect(result.errors.title).toBe('Title is required');\n      expect(result.isValid).toBe(false);\n    });\n\n    it('should fail with whitespace-only title', () => {\n      const result = validateTaskData({ ...validTaskData, title: '   ' });\n      expect(result.errors.title).toBe('Title is required');\n      expect(result.isValid).toBe(false);\n    });\n\n    it('should pass with title that has leading/trailing whitespace', () => {\n      const result = validateTaskData({ ...validTaskData, title: '  Valid Title  ' });\n      expect(result.errors.title).toBeUndefined();\n    });\n  });\n\n  describe('Priority Validation', () => {\n    it('should pass with valid priority IDs', () => {\n      ['1', '2', '3', '4', '5'].forEach(priorityId => {\n        const result = validateTaskData({ ...validTaskData, priorityId });\n        expect(result.errors.priorityId).toBeUndefined();\n      });\n    });\n\n    it('should fail with invalid priority ID', () => {\n      const result = validateTaskData({ ...validTaskData, priorityId: '6' });\n      expect(result.errors.priorityId).toBe('Invalid priority selected');\n      expect(result.isValid).toBe(false);\n    });\n\n    it('should fail with non-numeric priority ID', () => {\n      const result = validateTaskData({ ...validTaskData, priorityId: 'high' });\n      expect(result.errors.priorityId).toBe('Invalid priority selected');\n      expect(result.isValid).toBe(false);\n    });\n  });\n\n  describe('Due Date Validation', () => {\n    it('should pass with future date', () => {\n      const futureDate = new Date(Date.now() + 86400000).toISOString();\n      const result = validateTaskData({ ...validTaskData, dueAt: futureDate });\n      expect(result.errors.dueAt).toBeUndefined();\n    });\n\n    it('should pass with today\\'s date', () => {\n      const today = new Date();\n      today.setHours(23, 59, 59, 999); // End of today\n      const result = validateTaskData({ ...validTaskData, dueAt: today.toISOString() });\n      expect(result.errors.dueAt).toBeUndefined();\n    });\n\n    it('should fail with past date', () => {\n      const pastDate = new Date(Date.now() - 86400000).toISOString();\n      const result = validateTaskData({ ...validTaskData, dueAt: pastDate });\n      expect(result.errors.dueAt).toBe('Due date must be today or in the future');\n      expect(result.isValid).toBe(false);\n    });\n\n    it('should fail with empty date', () => {\n      const result = validateTaskData({ ...validTaskData, dueAt: '' });\n      expect(result.errors.dueAt).toBe('Due date is required');\n      expect(result.isValid).toBe(false);\n    });\n\n    it('should fail with invalid date format', () => {\n      const result = validateTaskData({ ...validTaskData, dueAt: 'invalid-date' });\n      expect(result.errors.dueAt).toBe('Invalid date format');\n      expect(result.isValid).toBe(false);\n    });\n  });\n\n  describe('Estimate Minutes Validation', () => {\n    it('should pass with positive minutes', () => {\n      const result = validateTaskData({ ...validTaskData, estimateMinutes: 120 });\n      expect(result.errors.estimateMinutes).toBeUndefined();\n    });\n\n    it('should pass with zero minutes', () => {\n      const result = validateTaskData({ ...validTaskData, estimateMinutes: 0 });\n      expect(result.errors.estimateMinutes).toBeUndefined();\n    });\n\n    it('should fail with negative minutes', () => {\n      const result = validateTaskData({ ...validTaskData, estimateMinutes: -10 });\n      expect(result.errors.estimateMinutes).toBe('Estimate must be 0 or greater');\n      expect(result.isValid).toBe(false);\n    });\n  });\n\n  describe('Description Validation', () => {\n    it('should pass with empty description', () => {\n      const result = validateTaskData({ ...validTaskData, descriptionMd: '' });\n      expect(result.errors.descriptionMd).toBeUndefined();\n    });\n\n    it('should pass with normal length description', () => {\n      const result = validateTaskData({ ...validTaskData, descriptionMd: 'A'.repeat(5000) });\n      expect(result.errors.descriptionMd).toBeUndefined();\n    });\n\n    it('should pass with exactly 10,000 characters', () => {\n      const result = validateTaskData({ ...validTaskData, descriptionMd: 'A'.repeat(10000) });\n      expect(result.errors.descriptionMd).toBeUndefined();\n    });\n\n    it('should fail with more than 10,000 characters', () => {\n      const result = validateTaskData({ ...validTaskData, descriptionMd: 'A'.repeat(10001) });\n      expect(result.errors.descriptionMd).toBe('Description must be less than 10,000 characters');\n      expect(result.isValid).toBe(false);\n    });\n  });\n\n  describe('Complete Validation', () => {\n    it('should pass with all valid data', () => {\n      const result = validateTaskData(validTaskData);\n      expect(result.isValid).toBe(true);\n      expect(Object.keys(result.errors)).toHaveLength(0);\n    });\n\n    it('should fail with multiple invalid fields', () => {\n      const invalidData = {\n        title: '',\n        descriptionMd: 'A'.repeat(10001),\n        priorityId: '6',\n        dueAt: '',\n        estimateMinutes: -10,\n      };\n      \n      const result = validateTaskData(invalidData);\n      expect(result.isValid).toBe(false);\n      expect(result.errors.title).toBeDefined();\n      expect(result.errors.descriptionMd).toBeDefined();\n      expect(result.errors.priorityId).toBeDefined();\n      expect(result.errors.dueAt).toBeDefined();\n      expect(result.errors.estimateMinutes).toBeDefined();\n    });\n  });\n});